<!DOCTYPE html>
<html lang="en">
<head>
  
  
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    
    
    <link rel="shortcut icon" href="../img/favicon.ico">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
    <title>Share Reanalyses - MassIVE Documentation</title>
    <link href="../css/bootstrap-3.3.7.min.css" rel="stylesheet">
    <link href="../css/font-awesome-4.7.0.css" rel="stylesheet">
    <link href="../css/base.css" rel="stylesheet">
    <link rel="stylesheet" href="../css/highlight.css">
    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->

    <script src="../js/jquery-3.2.1.min.js"></script>
    <script src="../js/bootstrap-3.3.7.min.js"></script>
    <script src="../js/highlight.pack.js"></script>
    
    <base target="_top">
    <script>
      var base_url = '..';
      var is_top_frame = false;
        
        var pageToc = [
          {title: "Attach ProteoSAFe Reanalysis Results", url: "#_top", children: [
          ]},
          {title: "Upload\u00a0Offline Reanalysis Results", url: "#upload-offline-reanalysis-results", children: [
          ]},
          {title: "Submit Reanalysis Attachment", url: "#submit-reanalysis-attachment", children: [
          ]},
        ];

    </script>
    <script src="../js/base.js"></script>
    <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-8412213-5', 'ccms-ucsd.github.io');
        ga('send', 'pageview');
    </script> 
</head>

<body>
<script>
if (is_top_frame) { $('body').addClass('wm-top-page'); }
</script>



<div class="container-fluid wm-page-content">
  <a name="_top"></a>
    

    
    
      
    

  <div class="row wm-article-nav-buttons" role="navigation" aria-label="navigation">
    
    <div class="wm-article-nav pull-right">
      <a href="../reanalyze_spectra/" class="btn btn-xs btn-default pull-right">
        Next
        <i class="fa fa-chevron-right" aria-hidden="true"></i>
      </a>
      <a href="../reanalyze_spectra/" class="btn btn-xs btn-link">
        Reanalyze Spectra
      </a>
    </div>
    
    <div class="wm-article-nav">
      <a href="../add_publication/" class="btn btn-xs btn-default pull-left">
        <i class="fa fa-chevron-left" aria-hidden="true"></i>
        Previous</a><a href="../add_publication/" class="btn btn-xs btn-link">
        Add Publication
      </a>
    </div>
    
  </div>

    

    <p>After you've successfully reanalyzed spectrum data from MassIVE, share your findings with the community by attaching your results back to the dataset. There are two ways to do this:</p>
<ol>
<li>Attach results from a completed ProteoSAFe analysis workflow.</li>
<li>Upload your own results from a search tool run offline.</li>
</ol>
<h2 id="attach-proteosafe-reanalysis-results">Attach ProteoSAFe Reanalysis Results</h2>
<p>If you reanalyzed a MassIVE dataset's spectrum files using a <a href="../reanalyze_spectra/">ProteoSAFe workflow</a>, then once that workflow has finished you can attach its results to the original dataset by clicking the "Attach Reanalysis Results to Dataset" link on the job's status page:</p>
<p><img alt="reanalysis_attachment_button" src="../img/share_reanalyses/reanalysis_attachment_button.png" /></p>
<p>This brings you to the MassIVE reanalysis attachment workflow input form, with your analysis task's result files pre-selected:</p>
<p><img alt="reanalysis_setup" src="../img/share_reanalyses/reanalysis_setup-1.png" /></p>
<p>In this case, MassIVE will do the work of determining which dataset(s) to attach your results to, based on the source spectrum data of your analysis job. Since you ran your ProteoSAFe analysis workflow on spectra from a MassIVE dataset, the system will automatically trace that connection back to find the proper home for your reanalysis.</p>
<p>If you attempt to do this with an analysis job that was not run on dataset spectra, then the system will let you know with an error message.</p>
<h2 id="upload-offline-reanalysis-results">Upload Offline Reanalysis Results</h2>
<p>If you reanalyzed a MassIVE dataset's spectrum files using offline analysis tools, then you can still attach those results to the proper dataset. Start by <a href="../upload_data/">uploading your result files</a> to your MassIVE account. Then navigate to the <a href="../access_public_datasets/#MassIVEDatasetBrowsing-ViewingaDataset">dataset's web page</a> and click the "Add Reanalysis" button:</p>
<p><img alt="add_reanalysis_button" src="../img/share_reanalyses/add_reanalysis_button.png" /></p>
<p>This brings you to a blank MassIVE reanalysis attachment workflow input form. From here, you can select all the files for your reanalysis by clicking any of the "Select Input Files" buttons:</p>
<p><img alt="reanalysis_file_selection" src="../img/share_reanalyses/reanalysis_file_selection-1.png" /></p>
<p>From the file selection pop-up window, browse your account to select the result files you uploaded, as well as any other files you wish to attach for this reanalysis. Then determine the dataset to attach to by selecting the spectrum files from that dataset that you searched in your offline analysis. You should find that the proper dataset is automatically imported to your account from when you clicked "Add Reanalysis" back on the dataset page.</p>
<h2 id="submit-reanalysis-attachment">Submit Reanalysis Attachment</h2>
<p>Once you've selected valid reanalysis files and spectrum files from a public MassIVE dataset, fully configure and submit the rest of your reanalysis attachment job (including <a href="../submission_workflow/#MassIVEDatasetSubmission-MappingPeakListandResultFiles">mapping your result files to the dataset's peak list files</a>).</p>
<p>The reanalysis attachment workflow will determine which source datasets were reanalyzed, and will then prepare what's referred to as a "reanalysis container" for your attachment. A reanalysis container simply refers to the unique set of datasets that were reanalyzed - usually only one, but possibly more. The workflow then attaches your results to this container. Any other reanalysis results attached (by any user) to this same set of datasets will also go in the same container.</p>
<p>Once the attachment job is finished, both the container and the reanalysis will now show up on the dataset page:</p>
<p><img alt="reanalysis_list" src="../img/share_reanalyses/reanalysis_list-2.png" /></p>
<p>As well as on the page for the container itself (which is always accessible from the dataset):</p>
<p><img alt="reanalysis_container_page" src="../img/share_reanalyses/reanalysis_container_page.png" /></p>
<p>Each individual reanalysis has its own page, as well (accessible from either the dataset or the container):</p>
<p><img alt="reanalysis_page" src="../img/share_reanalyses/reanalysis_page.png" /></p>
<p>And the reanalysis files will be available for download from the container's FTP space:</p>
<p><img alt="reanalysis_ftp" src="../img/share_reanalyses/reanalysis_ftp-2.png" /></p>
<p>Finally, you can browse the spectrum identification results for your reanalysis by clicking on "Browse Results" from the reanalysis page, and from there you can trace all the way back to the source ProteoSAFe task that produced each result file, if that's how you generated your results:</p>
<p><img alt="reanalysis_provenance" src="../img/share_reanalyses/reanalysis_provenance.png" /></p>

  <br>
    

    
    
      
    

  <div class="row wm-article-nav-buttons" role="navigation" aria-label="navigation">
    
    <div class="wm-article-nav pull-right">
      <a href="../reanalyze_spectra/" class="btn btn-xs btn-default pull-right">
        Next
        <i class="fa fa-chevron-right" aria-hidden="true"></i>
      </a>
      <a href="../reanalyze_spectra/" class="btn btn-xs btn-link">
        Reanalyze Spectra
      </a>
    </div>
    
    <div class="wm-article-nav">
      <a href="../add_publication/" class="btn btn-xs btn-default pull-left">
        <i class="fa fa-chevron-left" aria-hidden="true"></i>
        Previous</a><a href="../add_publication/" class="btn btn-xs btn-link">
        Add Publication
      </a>
    </div>
    
  </div>

    <br>
</div>

<footer class="container-fluid wm-page-content">
      <p>
        <a href="https://github.com/CCMS-UCSD/MassIVEDocumentation/blob/master/docs/share_reanalyses.md">Edit on </a>
      </p>
  <p>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a> using <a href="https://github.com/gristlabs/mkdocs-windmill">Windmill</a> theme by Grist Labs.</p>
</footer>

</body>
</html>